(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{44721:function(e,t,n){(t=n(23645)(!1)).push([e.id,"._2YoR3 p,._2YoR3 summary{font-size:1rem!important;line-height:1.5rem!important}",""]),t.locals={markdown:"_2YoR3"},e.exports=t},54666:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/problems/[slug]/solutions/[id]/[[...ids]]",function(){return n(11302)}])},41104:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var o=n(67294);function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,o.useState)(e),n=t[0],r=t[1],i=(0,o.useCallback)((function(){return r(!0)}),[]),l=(0,o.useCallback)((function(){return r(!1)}),[]);return{visible:n,showModal:i,hideModal:l}}},15666:function(e,t,n){"use strict";n.d(t,{L:function(){return o},Z:function(){return s}});var o,r=n(85893),i=n(67294),l=n(90758),a=n(12831);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.BORDER="border",e.CARD="card",e.DROPDOWN="dropdown"}(o||(o={}));var s=i.forwardRef((function(e,t){var n,i=e.className,s=e.children,c=e.borderType,d=void 0===c?o.CARD:c;return(0,r.jsx)("div",{ref:t,className:(0,l.yI)((n={},u(n,"".concat(a.Cj.dividerBorder2," border"),d===o.BORDER),u(n,a.eq.card,d===o.CARD),u(n,a.eq.dropdown,d===o.DROPDOWN),n),a.Cj.bgLayer1,"rounded-lg",i),children:s})}))},98335:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var o=n(85893);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(67294).forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M5.414 11H21a1 1 0 110 2H5.414L12 19.586A1 1 0 0110.586 21l-8.293-8.293a.997.997 0 01.003-1.417L10.586 3A1 1 0 1112 4.414L5.414 11z",clipRule:"evenodd"})}))}))},11302:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return So},default:function(){return No}});var o=n(85893),r=n(67294),i=n(41003),l=n(82647),a=n(22143),u=n(11163),s=n(3823),c=n(46612),d=n(91747),f=n(86328),v=n(90758),m=n(29450),p=n(12831),b=n(5772),g=n(79758),y=n(69283),h=n(23893),x=n(5691),j=n(26629),w=n(66004),C=n(76269),O=n(43710),S=n(79957);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){N(e,t,n[t])}))}return e}var I=m.Oo?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,x.u3W)(w.f6,{topicId:e.topicId},k({},t,{select:function(e){var t,n,o,r,i,l,a,u,s,c,d,f,v,m,p,b,g,y,h,x,j,w,S,N,k,I,P,T,A,q=e.topic,D=e.isSolutionTopic,E=e.relatedSolutions;return q?{hasOfficialSolution:D,communitySolution:{slug:"",uuid:"",id:Number(q.id),content:(0,C.pC)(q.post.content),postId:q.post.id,title:q.title,isPinned:q.pinned,isFavorite:Boolean(q.isFavorite),isOfficial:!1,hasVideo:!1,isPremium:!1,isVideoPremium:!1,ipRegion:"",starRating:0,starRatingCount:0,voteCount:q.post.voteCount,viewCount:q.viewCount,commentCount:q.topLevelCommentCount,favoriteCount:q.favoriteCount,creationDate:null!==(f=q.post.creationDate)&&void 0!==f?f:+new Date,isSubscribed:null!==(v=q.subscribed)&&void 0!==v&&v,tags:q.solutionTags?q.solutionTags.map((function(e){return null!==(m=null===e||void 0===e?void 0:e.name)&&void 0!==m?m:""})):[],tagSlugs:q.solutionTags?q.solutionTags.map((function(e){return null!==(p=null===e||void 0===e?void 0:e.slug)&&void 0!==p?p:""})):[],author:{userAvatar:null!==(b=null===(t=q.post.author)||void 0===t?void 0:t.profile.userAvatar)&&void 0!==b?b:"",username:null!==(g=null===(n=q.post.author)||void 0===n?void 0:n.username)&&void 0!==g?g:"",isActive:null!==(y=null===(o=q.post.author)||void 0===o?void 0:o.isActive)&&void 0!==y&&y,nameColor:null!==(h=null===(r=q.post.author)||void 0===r?void 0:r.nameColor)&&void 0!==h?h:void 0,activeBadgeIcon:null!==(x=null===(i=q.post.author)||void 0===i||null===(l=i.activeBadge)||void 0===l?void 0:l.icon)&&void 0!==x?x:"",activeBadgeName:null!==(j=null===(a=q.post.author)||void 0===a||null===(u=a.activeBadge)||void 0===u?void 0:u.displayName)&&void 0!==j?j:"",isAdmin:null!==(w=null===(s=q.post.author)||void 0===s?void 0:s.isDiscussAdmin)&&void 0!==w&&w,reputation:null!==(S=null===(c=q.post.author)||void 0===c||null===(d=c.profile)||void 0===d?void 0:d.reputation)&&void 0!==S?S:0},isOwnPost:null!==(N=q.post.isOwnPost)&&void 0!==N&&N,isHidden:Boolean(q.post.isHidden),isHiddenFromTrending:Boolean(q.hideFromTrending),isDeleted:Boolean(q.post.status===O.$4.Deleted),status:q.post.status,voteStatus:Number(null!==(k=q.post.voteStatus)&&void 0!==k?k:0),relatedSolutions:E?E.map((function(e){var t,n,o,r,i;return{id:null!==(I=null===e||void 0===e?void 0:e.id)&&void 0!==I?I:0,author:{userAvatar:null!==(P=null===e||void 0===e||null===(t=e.post)||void 0===t||null===(n=t.author)||void 0===n||null===(o=n.profile)||void 0===o?void 0:o.userAvatar)&&void 0!==P?P:"",username:null!==(T=null===e||void 0===e||null===(r=e.post)||void 0===r||null===(i=r.author)||void 0===i?void 0:i.username)&&void 0!==T?T:""},title:null!==(A=null===e||void 0===e?void 0:e.title)&&void 0!==A?A:"",tags:(null===e||void 0===e?void 0:e.solutionTags)?e.solutionTags.map((function(e){return null===e||void 0===e?void 0:e.name})):[]}})).slice(0,5):[]}}:{communitySolution:null,hasOfficialSolution:!1}}}))}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,j.ZL7)(w.f6,{slug:e.slug},k({enabled:!!e.slug},t,{select:function(e){var t,n,o,r,i,l,a,u,s,c,d,f,v,m,p,b,g,y,h,x,w,C,N,k,I,P,T,A,q,D,E,B,R,L,_,F,M=e.solutionArticle;return M?{hasOfficialSolution:!1,communitySolution:{slug:M.slug,uuid:M.uuid,id:Number(null===(t=M.topic)||void 0===t?void 0:t.id),content:(null===M||void 0===M?void 0:M.content)||"",postId:(null===(n=M.topic)||void 0===n?void 0:n.post.id)||0,title:M.title,isPinned:M.isEditorsPick,isOfficial:null!==(y=null===M||void 0===M?void 0:M.byLeetcode)&&void 0!==y&&y,hasVideo:(null!==(h=null===M||void 0===M||null===(o=M.videosInfo)||void 0===o?void 0:o.length)&&void 0!==h?h:0)>0,isPremium:!1,isVideoPremium:!1,ipRegion:M.ipRegion,reactionType:M.reactionType,starRating:null!==(x=null===M||void 0===M?void 0:M.favoriteCount)&&void 0!==x?x:0,starRatingCount:0,voteCount:null!==(w=null===(r=M.reactionsV2)||void 0===r?void 0:r.reduce((function(e,t){return t.reactionType===j.kt6.Upvote?e+t.count:e}),0))&&void 0!==w?w:0,viewCount:null!==(C=null===M||void 0===M?void 0:M.hitCount)&&void 0!==C?C:0,commentCount:null!==(N=null===(i=M.topic)||void 0===i?void 0:i.commentCount)&&void 0!==N?N:0,favoriteCount:null!==(k=null===M||void 0===M?void 0:M.favoriteCount)&&void 0!==k?k:0,creationDate:null!==(I=+new Date(M.createdAt))&&void 0!==I?I:+new Date,isSubscribed:null!==(P=null===(l=M.topic)||void 0===l?void 0:l.subscribed)&&void 0!==P&&P,isFavorite:M.isMyFavorite,tags:M.tags.map((function(e){return e.nameTranslated||e.name})),tagSlugs:M.tags.map((function(e){return e.slug})),author:{userAvatar:null!==(T=null===(a=M.author)||void 0===a?void 0:a.profile.userAvatar)&&void 0!==T?T:"",username:null!==(A=null===(u=M.author)||void 0===u?void 0:u.profile.userSlug)&&void 0!==A?A:"",realName:M.author.profile.realName,isActive:!1,nameColor:void 0,activeBadgeIcon:"",activeBadgeName:"",isAdmin:null!==(q=null===(s=M.author)||void 0===s?void 0:s.isDiscussAdmin)&&void 0!==q&&q,reputation:null!==(D=null===(c=M.author)||void 0===c?void 0:c.profile.reputation)&&void 0!==D?D:0},isOwnPost:null!==(E=null===(d=M.topic)||void 0===d?void 0:d.post.isOwnPost)&&void 0!==E&&E,isHidden:!1,isHiddenFromTrending:!1,isDeleted:Boolean((null===(f=M.topic)||void 0===f?void 0:f.post.status)===O.$4.Deleted),status:(0,S.F2)(M.status),voteStatus:Number(null!==(B=null===(v=M.topic)||void 0===v?void 0:v.post.voteStatus)&&void 0!==B?B:0),prevPost:{questionSlug:null!==(R=null===M||void 0===M||null===(m=M.prev)||void 0===m?void 0:m.slug)&&void 0!==R?R:"",title:null!==(L=null===M||void 0===M||null===(p=M.prev)||void 0===p?void 0:p.title)&&void 0!==L?L:""},nextPost:{questionSlug:null!==(_=null===M||void 0===M||null===(b=M.next)||void 0===b?void 0:b.slug)&&void 0!==_?_:"",title:null!==(F=null===M||void 0===M||null===(g=M.next)||void 0===g?void 0:g.title)&&void 0!==F?F:""}}}:{communitySolution:null,hasOfficialSolution:!1}}}))},P=n(88767);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){T(e,t,n[t])}))}return e}var q=m.Oo?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enabled:!1};return(0,x.gKm)(w.f6,A({},t),A({},n,{select:function(t){var n,o,r,i,l,a,u,s,c=null===t||void 0===t||null===(n=t.question)||void 0===n?void 0:n.solution;return c?A({},e,{title:c.title,content:null!==(i=c.content)&&void 0!==i?i:e.content,isOfficial:!0,hasVideo:Boolean(c.hasVideoSolution),starRating:null!==(l=null===(o=c.rating)||void 0===o?void 0:o.average)&&void 0!==l?l:0,starRatingCount:null!==(a=null===(r=c.rating)||void 0===r?void 0:r.count)&&void 0!==a?a:0,contentTypeId:null!==(u=c.contentTypeId)&&void 0!==u?u:"",solutionId:null!==(s=c.id)&&void 0!==s?s:"",isPremium:c.paidOnly||!1,canSeeDetail:Boolean(c.canSeeDetail)}):null}}))}:function(e,t){return(0,P.useQuery)([x.gKm.getKey(t)],(function(){return null}))},D=n(15666),E=n(3346),B=n(84159),R=n(55237),L=n(58502),_=n(91208),F=n(42054),M=n(26126),G=n(73211),H=n(6848);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){$(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM11.5 9.5H13a1 1 0 110 2h-1.5V13a1 1 0 11-2 0v-1.5H8a1 1 0 110-2h1.5V8a1 1 0 012 0v1.5zm-1 7a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}))}));function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){V(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM10.5 16.5a6 6 0 100-12 6 6 0 000 12zm-2.5-5a1 1 0 110-2h5a1 1 0 110 2H8z",clipRule:"evenodd"})}))})),z=n(4271);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(e){var t=e.children,n=K((0,G.O)(!1),2),i=n[0],l=n[1],a=l.on,u=l.off,s=(0,r.useState)(""),c=s[0],d=s[1],f=(0,r.useCallback)((function(e){if(!m.Oo){var t=e.target;"IMG"!==t.tagName||t.classList.contains("no-preview")||(d(t.src),a())}}),[a]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{onClick:f,children:t}),(0,o.jsxs)(H.u,{visible:i,onCancel:u,className:"my-0 h-[100vh] w-full rounded-none bg-transparent p-0 children:!overflow-visible",noShadow:!0,stopMouseDownPropagation:F.Z,closable:!1,children:[(0,o.jsx)(M.d$,{minScale:.5,maxScale:5,pinch:{step:2e3},wheel:{step:.1},children:function(e){var t=e.zoomIn,n=e.zoomOut;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("figure",{className:"flex h-full w-full items-center justify-center children:cursor-grab",children:(0,o.jsx)(M.Uv,{children:(0,o.jsx)("img",{src:c,alt:"",className:"bg-[hsl(0, 0%, 90%)] max-h-[560px] w-auto max-w-[1080px] cursor-grab transition-transform duration-300"})})}),(0,o.jsxs)("div",{className:"fixed bottom-4 left-[50%] flex rounded-md bg-gray-7 p-2 dark:bg-dark-gray-7",children:[(0,o.jsx)(Q,{className:"h-6 w-6 cursor-pointer text-paper dark:text-dark-paper",onClick:function(){return t()}}),(0,o.jsx)("div",{className:"mx-2 h-6 border-r border-dark-divider-1 dark:border-divider-1"}),(0,o.jsx)(U,{className:"h-6 w-6 cursor-pointer text-paper dark:text-dark-paper",onClick:function(){return n()}})]})]})}}),(0,o.jsx)("button",{onClick:u,className:"absolute top-0 right-0 m-5 cursor-pointer rounded bg-gray-7 p-2 transition-all z-modal dark:bg-dark-gray-7",children:(0,o.jsx)(z.F,{className:"h-6 w-6 text-paper dark:text-dark-paper"})})]})]})},X=n(33709),Y=n(58007),J=n(34051),ee=n.n(J),te=n(68652),ne=n(62577);function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=m.Oo?function(e){var t=e.queryClient,n=e.topicId,o=e.cb;t.setQueryData(x.u3W.getKey({topicId:n}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){oe(e,t,n[t])}))}return e}({},e,o(e))}))}:F.Z;function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function le(e,t,n,o,r,i,l){try{var a=e[i](l),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(o,r)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function l(e){le(i,o,r,l,a,"next",e)}function a(e){le(i,o,r,l,a,"throw",e)}l(void 0)}))}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ue(e,t,n[t])}))}return e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var de=function(e){var t=e.queryClient,n=e.slug,o=e.isFavorite,r=j.ZL7.getKey({slug:n}),i=t.getQueriesData(r);return t.setQueriesData(r,(function(e){var t=(0,te.Z)(e);return(null===t||void 0===t?void 0:t.solutionArticle)&&(t.solutionArticle.isMyFavorite=o),t})),i},fe=m.Oo?function(e){var t=e.topicId,n=e.isFavorite,o=(0,P.useQueryClient)(),i=(0,x.XHC)(w.f6,{onSettled:function(e){var r;if(null===e||void 0===e||null===(r=e.toggleFavoriteSolution)||void 0===r?void 0:r.ok){var i=!n,l=i?1:-1;re({queryClient:o,topicId:t,cb:function(e){return{topic:se({},e.topic,{isFavorite:i,favoriteCount:e.topic.favoriteCount+l})}}})}}}),l=!n,a=i.isLoading,u=i.mutateAsync;return{isLoading:a,mutateAsync:(0,r.useCallback)(ae(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u({topicId:t,isFavorite:l}).then((function(e){var t,n,o;return{ok:null===(t=e.toggleFavoriteSolution)||void 0===t?void 0:t.ok,error:null===(n=e.toggleFavoriteSolution)||void 0===n?void 0:n.error,isFavorite:(null===(o=e.toggleFavoriteSolution)||void 0===o?void 0:o.ok)?l:!l}})));case 1:case"end":return e.stop()}}),e)}))),[u,t,l])}}:function(e){var t=e.slug,n=e.isFavorite,o=(0,P.useQueryClient)(),i=(0,j.NIt)(w.f6,{onMutate:function(){return ae(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de({queryClient:o,slug:t,isFavorite:!0}));case 1:case"end":return e.stop()}}),e)})))()},onError:function(e,t,n){null===n||void 0===n||n.forEach((function(e){var t=ce(e,2),n=t[0],r=t[1];o.setQueryData(n,r)})),(0,ne.defaultErrorHandler)(e)}}),l=i.mutateAsync,a=i.isLoading,u=(0,j.RBs)(w.f6,{onMutate:function(){return ae(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de({queryClient:o,slug:t,isFavorite:!1}));case 1:case"end":return e.stop()}}),e)})))()},onError:function(e,t,n){null===n||void 0===n||n.forEach((function(e){var t=ce(e,2),n=t[0],r=t[1];o.setQueryData(n,r)})),(0,ne.defaultErrorHandler)(e)}}),s=u.mutateAsync,c=u.isLoading;return{isLoading:a||c,mutateAsync:(0,r.useCallback)((function(){var e={data:{articleSlug:t}};return n?s(e).then((function(e){var t,o;return{ok:null===(t=e.removeFavoriteArticle)||void 0===t?void 0:t.ok,error:null===(o=e.removeFavoriteArticle)||void 0===o?void 0:o.error,isFavorite:!n}})):l(e).then((function(e){var t,o;return{ok:null===(t=e.addFavoriteArticle)||void 0===t?void 0:t.ok,error:null===(o=e.addFavoriteArticle)||void 0===o?void 0:o.error,isFavorite:!n}}))}),[l,n,s,t])}},ve=n(22144),me=n(75167),pe=n(52921),be=n(32681);function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=function(e){var t=e.solution,n=e.hasLabel,i=void 0===n||n,l=e.isInFloatingAction,u=void 0!==l&&l,s=(0,a.$G)("solutions",{keyPrefix:"post"}).t,c=(0,Y.v)((function(e){return e.questionSlug})),d=t.slug,m=t.isFavorite,b=t.id,g=(0,r.useState)(m),y=g[0],h=g[1];(0,r.useEffect)((function(){return h(m)}),[m]);var x,j=y?ve.z:me.I,w=y?[p.Cj.labelBrandOrange]:[p.Cj.labelGrey7,p.M$.labelGrey8Group],C=fe({slug:d,isFavorite:y,topicId:b}),O=C.mutateAsync,S=C.isLoading,N=(0,r.useCallback)((function(){O().then((function(e){var t=e.ok,n=e.error,o=e.isFavorite;if(!t||n)return X.y.error(n||s("genericError"),{itemClassName:p.Cj.bgLayer3});X.y.success(s(o?"addToFavoriteSuccess":"removeFromFavoriteSuccess"),{itemClassName:p.Cj.bgLayer3}),h(o),pe.d.qdFavoritePostClick({qd_version:f.AQ,qd_question_slug:c,qd_favorite_pos:u?"floating_bar":"bottom_bar"})}))}),[O,s,c,u]),k=s(y?"isInCollection":"addToCollection"),I=(0,v.yI)("text-md font-medium",(ye(x={},p.Cj.labelBrandOrange,y),ye(x,p.M$.label1Group,!y),x));return(0,o.jsx)(be.E,{icon:j,iconClassName:v.yI.apply(void 0,["h-4.5 w-4.5"].concat(he(w))),label:i?k:void 0,labelClassName:I,className:"group cursor-pointer select-none",onClick:S?void 0:N})},je=n(19813),we=n(48838),Ce=n(28434),Oe=n(16338),Se=function(){var e=(0,a.$G)("solutions",{keyPrefix:"post"}).t,t=(0,je.r)();return(0,o.jsx)(we.e,{title:e("feedbackTooltip"),color:t["grey-7"],showArrow:!1,children:(0,o.jsx)(Ce.r,{href:c.Hb.feedback(),isExternal:!0,className:(0,v.yI)(p.Cj.labelGrey7,p.M$.labelGrey7,"flex h-6 w-6 items-center justify-center"),children:(0,o.jsx)(Oe.R,{className:(0,v.yI)("h-4.5 w-4.5")})})})},Ne=n(41104),ke=n(84423),Ie=n(48580);function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Pe(e,t,n[t])}))}return e}var Ae=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.M6w)(w.f6,{onSuccess:function(t,n){var o,r,i,l=n.topicId;if(null===(o=t.subscribeTopic)||void 0===o?void 0:o.ok){var a=Boolean(null===(r=t.subscribeTopic)||void 0===r||null===(i=r.topic)||void 0===i?void 0:i.subscribed);re({queryClient:e,topicId:l,cb:function(e){return{topic:Te({},e.topic,{subscribed:a})}}})}}})}:function(){var e=(0,P.useQueryClient)();return(0,j.M6w)(w.f6,{onSuccess:function(t,n){var o,r,i,l=n.topicId;if(null===(o=t.subscribeTopic)||void 0===o?void 0:o.ok){var a=Boolean(null===(r=t.subscribeTopic)||void 0===r||null===(i=r.topic)||void 0===i?void 0:i.subscribed);re({queryClient:e,topicId:l,cb:function(e){return{topic:Te({},e.topic,{subscribed:a})}}})}}})},qe=n(68911),De=function(e){var t=e.topicId,n=e.subscribed,i=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,l=(0,r.useState)(n),u=l[0],s=l[1],c=i(u?"unsubscribe":"subscribe"),d=Ae().mutateAsync,v=(0,Y.v)((function(e){return e.questionSlug})),m=(0,r.useCallback)((function(){s((function(e){return!e})),X.y.success(i(u?"unsubscribeMessage":"subscribeMessage"),{itemClassName:p.Cj.bgLayer3}),d({topicId:t,subscribe:!u}).then((function(e){var t,n,o,r;(null===(t=e.subscribeTopic)||void 0===t?void 0:t.ok)&&!Boolean(null===(n=e.subscribeTopic)||void 0===n?void 0:n.error)||(X.y.error(i("error"),{itemClassName:p.Cj.bgLayer3}),s((function(e){return!e})));var l=Boolean(null===(o=e.subscribeTopic)||void 0===o||null===(r=o.topic)||void 0===r?void 0:r.subscribed);s(l),pe.d.qdSubscribePostClick({qd_version:f.AQ,qd_question_slug:v,qd_subscribe_status:String(l)})}))}),[u,i,d,t,v]);return(0,o.jsx)(qe.T,{onClick:m,children:c})};function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Ee(e,t,n[t])}))}return e}var Re=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.cNx)(w.f6,{onSuccess:function(t,n){var o,r,i,l=n.topicId;if(null===(o=t.togglePinTopic)||void 0===o?void 0:o.ok){var a=Boolean(null===(r=t.togglePinTopic)||void 0===r||null===(i=r.topic)||void 0===i?void 0:i.pinned);re({queryClient:e,topicId:l,cb:function(e){return{topic:Be({},e.topic,{pinned:a})}}})}}})}:function(){return{}},Le=function(e){var t=e.topicId,n=e.pinned,i=e.updateModal,l=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,u=(0,r.useState)(n),s=u[0],c=u[1],d=l(s?"unpin":"pin"),f=Re().mutateAsync,v=(0,r.useCallback)((function(){i({loading:!0}),c((function(e){return!e})),X.y.success(l(s?"unpinMessage":"pinMessage"),{itemClassName:p.Cj.bgLayer3}),f({topicId:t,pinned:!s}).then((function(e){var t,n,o,r;(null===(t=e.togglePinTopic)||void 0===t?void 0:t.ok)&&!Boolean(null===(n=e.togglePinTopic)||void 0===n?void 0:n.error)||(X.y.error(l("error"),{itemClassName:p.Cj.bgLayer3}),c((function(e){return!e}))),c(Boolean(null===(o=e.togglePinTopic)||void 0===o||null===(r=o.topic)||void 0===r?void 0:r.pinned)),i({loading:!1,visible:!1})}))}),[i,c,f,t,s,l]),m=(0,r.useCallback)((function(){i({visible:!0,variant:"info",confirmText:l(s?"unpinConfirmText":"pinConfirmText"),confirmBtn:l(s?"unpinConfirmBtn":"pinConfirmBtn"),onConfirm:v})}),[i,v,s,l]);return(0,o.jsx)(qe.T,{onClick:m,children:d})};function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){_e(e,t,n[t])}))}return e}var Me=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.xim)(w.f6,{onSuccess:function(t,n){var o,r,i,l=n.postId;if(null===(o=t.hidePost)||void 0===o?void 0:o.ok){var a=Boolean(null===(r=t.hidePost)||void 0===r||null===(i=r.post)||void 0===i?void 0:i.isHidden);re({queryClient:e,topicId:l,cb:function(e){return{topic:Fe({},e.topic,{post:Fe({},e.topic.post,{isHidden:a,status:a?O.$4.Hidden:O.$4.Open})})}}})}}})}:function(){return{}},Ge=function(e){var t=e.topicId,n=e.hidden,i=e.updateModal,l=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,u=(0,r.useState)(n),s=u[0],c=u[1],d=l(s?"show":"hide"),f=Me().mutateAsync,v=(0,r.useCallback)((function(){i({loading:!0}),c((function(e){return!e})),X.y.success(l(s?"showMessage":"hideMessage"),{itemClassName:p.Cj.bgLayer3}),f({postId:t,hide:!s}).then((function(e){var t,n,o,r;(null===(t=e.hidePost)||void 0===t?void 0:t.ok)&&!Boolean(null===(n=e.hidePost)||void 0===n?void 0:n.error)||(X.y.error(l("error"),{itemClassName:p.Cj.bgLayer3}),c((function(e){return!e}))),c(Boolean(null===(o=e.hidePost)||void 0===o||null===(r=o.post)||void 0===r?void 0:r.isHidden)),i({loading:!1,visible:!1})}))}),[i,c,f,t,s,l]),m=(0,r.useCallback)((function(){i({visible:!0,variant:s?"info":"danger",confirmText:l(s?"showConfirmText":"hideConfirmText"),confirmBtn:l(s?"showConfirmBtn":"hideConfirmBtn"),onConfirm:v})}),[i,v,s,l]);return(0,o.jsx)(qe.T,{onClick:m,children:d})};function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){He(e,t,n[t])}))}return e}var Qe=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.ir7)(w.f6,{onSuccess:function(t,n){var o,r,i,l=n.topicId;if(null===(o=t.hideTopicFromTrending)||void 0===o?void 0:o.ok){var a=Boolean(null===(r=t.hideTopicFromTrending)||void 0===r||null===(i=r.topic)||void 0===i?void 0:i.hideFromTrending);re({queryClient:e,topicId:l,cb:function(e){return{topic:$e({},e.topic,{hideFromTrending:a})}}})}}})}:function(){return{}},Ve=function(e){var t=e.topicId,n=e.updateModal,i=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,l=Qe().mutateAsync,u=(0,r.useCallback)((function(){n({loading:!0}),X.y.success(i("hideFromTrendingMessage"),{itemClassName:p.Cj.bgLayer3}),l({topicId:t,hide:!0}).then((function(e){var t;if(!(null===(t=e.hideTopicFromTrending)||void 0===t?void 0:t.ok))return X.y.error(i("error"),{itemClassName:p.Cj.bgLayer3});n({loading:!1,visible:!1})}))}),[n,l,t,i]),s=(0,r.useCallback)((function(){n({visible:!0,variant:"danger",confirmText:i("hideFromTrendingConfirmText"),confirmBtn:i("hideFromTrendingConfirmBtn"),onConfirm:u})}),[n,u,i]);return(0,o.jsx)(qe.T,{onClick:s,children:i("hideFromTrending")})};function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Ue(e,t,n[t])}))}return e}var Ze=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.ejf)(w.f6,{onSuccess:function(t,n){var o,r=n.topicId;(null===t||void 0===t||null===(o=t.migrateSolutionToDiscussion)||void 0===o?void 0:o.ok)&&re({queryClient:e,topicId:r,cb:function(e){return{topic:ze({},e.topic,{post:ze({},e.topic.post,{status:O.$4.Deleted})})}}})}})}:function(){return(0,P.useMutation)((function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return Promise.resolve({migrateSolutionToDiscussion:{ok:!0,comment:{id:1}}})}))},Ke=function(e){var t=e.topicId,n=e.updateModal,i=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,l=Ze().mutateAsync,u=(0,r.useCallback)((function(){n({loading:!0}),l({topicId:t}).then((function(e){var t,o;if(!(null===e||void 0===e||null===(t=e.migrateSolutionToDiscussion)||void 0===t?void 0:t.ok))return X.y.error(i("error"),{itemClassName:p.Cj.bgLayer3});var r=b.cm.getState().questionSlug,l=null===(o=e.migrateSolutionToDiscussion.comment)||void 0===o?void 0:o.id;r&&l&&window.open(c.Hb.discussion(r,l),"_blank"),X.y.success(i("moveToDiscussionMessage"),{itemClassName:p.Cj.bgLayer3}),n({loading:!1,visible:!1})}))}),[n,l,t,i]),s=(0,r.useCallback)((function(){n({visible:!0,variant:"info",confirmText:i("moveToDiscussionConfirmText"),confirmBtn:i("moveToDiscussionConfirmBtn"),onConfirm:u})}),[n,u,i]);return(0,o.jsx)(qe.T,{onClick:s,children:i("moveToDiscussion")})};function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){We(e,t,n[t])}))}return e}var Ye=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.jnm)(w.f6,{onSuccess:function(t,n){var o,r=n.topicId;(null===(o=t.deleteTopic)||void 0===o?void 0:o.ok)&&re({queryClient:e,topicId:r,cb:function(e){return{topic:Xe({},e.topic,{post:Xe({},e.topic.post,{status:O.$4.Deleted})})}}})}})}:function(){var e=(0,P.useQueryClient)();return(0,j.m7p)(w.f6,{onSuccess:function(){e.invalidateQueries(["questionTopicsList"])}})},Je=n(91797);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=function(e){var t=e.topicId,n=e.updateModal,i=e.slug,l=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,u=Ye().mutateAsync,s=(0,b.cm)((function(e){return e.questionSlug})),c=(0,Je.n)().filters,d=(0,P.useQueryClient)(),f=(0,r.useCallback)((function(){n({loading:!0}),u({topicId:t,slug:i}).then((function(e){var t;if("deleteTopic"in e&&(!(null===(t=e.deleteTopic)||void 0===t?void 0:t.ok)||e.deleteTopic.error))return X.y.error(l("error"),{itemClassName:p.Cj.bgLayer3});(0,b.aq)({},!0),(0,S.UD)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){et(e,t,n[t])}))}return e}({},c,{questionSlug:s}),d),X.y.success(l("deleteMessage"),{itemClassName:p.Cj.bgLayer3}),n({loading:!1,visible:!1})}))}),[n,u,t,i,l,c,d,s]),v=(0,r.useCallback)((function(){n({visible:!0,variant:"danger",confirmText:l("deleteConfirmText"),confirmBtn:l("deleteConfirmBtn"),onConfirm:f})}),[n,f,l]);return(0,o.jsx)(qe.T,{onClick:v,children:l("delete")})};function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){nt(e,t,n[t])}))}return e}var rt=m.Oo?function(){var e=(0,P.useQueryClient)();return(0,x.dnZ)(w.f6,{onSuccess:function(t,n){var o,r=n.topicId;(null===(o=t.approveTopic)||void 0===o?void 0:o.ok)&&re({queryClient:e,topicId:r,cb:function(e){return{topic:ot({},e.topic,{post:ot({},e.topic.post,{status:"Open"})})}}})}})}:function(){return{}},it=function(e){var t=e.topicId,n=e.updateModal,i=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,l=rt().mutateAsync,u=(0,r.useCallback)((function(){n({loading:!0}),X.y.success(i("restoreMessage"),{itemClassName:p.Cj.bgLayer3}),l({topicId:t}).then((function(e){var t;if(!(null===(t=e.approveTopic)||void 0===t?void 0:t.ok))return X.y.error(i("error"),{itemClassName:p.Cj.bgLayer3});n({loading:!1,visible:!1})}))}),[n,l,t,i]),s=(0,r.useCallback)((function(){n({visible:!0,variant:"info",confirmText:i("restoreConfirmText"),confirmBtn:i("restoreConfirmBtn"),onConfirm:u})}),[n,u,i]);return(0,o.jsx)(qe.T,{onClick:s,children:i("restore")})},lt=n(32425),at=n(95138),ut=n(1303),st=function(e){var t,n=e.solution,i=e.placement,l=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,u=n.isOfficial,s=n.isOwnPost,c=n.id,d=null===(t=(0,Ie.U)().data)||void 0===t?void 0:t.userStatus,g=[Boolean(null===d||void 0===d?void 0:d.isAdmin),null===d||void 0===d?void 0:d.permissions],y=function(e){var t=e.permissions,n=e.isOfficial,o=e.isOwnPost,i=e.isAdmin,l=(0,r.useMemo)((function(){return m.ob?Boolean(o)||!n&&i:!n&&(Boolean(o)||(0,lt.F9)(t,at.P.DiscussChangePost))}),[i,n,o,t]),a=(0,r.useMemo)((function(){return m.ob?Boolean(o)||!n&&i:!n&&(o||(0,lt.F9)(t,at.P.DiscussDeletePost))}),[i,n,o,t]);return(0,r.useMemo)((function(){return{canEdit:l,canReport:m.Oo?!n&&!o:!o,canSubscribe:!0,canPin:!n&&(0,lt.F9)(t,at.P.DiscussPinTopic),canHide:!n&&(0,lt.F9)(t,at.P.DiscussHidePost),canHideFromTrending:!n&&i,canMoveToDiscuss:!n&&(0,lt.F9)(t,at.P.SolutionMoveToDiscussion),canDelete:a,canRestore:!n&&(0,lt.F9)(t,at.P.DiscussDeletePost)}}),[l,n,o,t,i,a])}({permissions:g[1],isOwnPost:s,isOfficial:u,isAdmin:g[0]}),h=(0,r.useCallback)((function(){var e=b.cm.getState(),t=e.questionSlug,o=e.topicId;pe.d.qdEditPostClick({qd_version:f.AQ,qd_question_slug:t}),(0,b.UY)({questionSlug:t,topicId:o,slug:n.slug})}),[n.slug]),x=(0,Ne.U)(),j=x.visible,w=x.showModal,C=x.hideModal,O=(0,ke.t)(),S=O.modal,N=O.update,k=m.ob&&u?"\u53cd\u9988":l("report");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(qe.l,{placement:i,btnClassName:"w-4.5 h-4.5",iconClassName:(0,v.yI)(p.Cj.labelGrey7,p.Cj.labelGrey8Hover,"w-4.5 h-4.5"),children:[y.canEdit&&(0,o.jsx)(qe.T,{onClick:h,children:l("edit")}),y.canReport&&(0,o.jsx)(qe.T,{onClick:w,children:k}),y.canSubscribe&&m.Oo&&(0,o.jsx)(De,{topicId:c,subscribed:n.isSubscribed}),y.canPin&&(0,o.jsx)(Le,{topicId:c,pinned:n.isPinned,updateModal:N}),y.canHide&&(0,o.jsx)(Ge,{topicId:c,hidden:n.isHidden,updateModal:N}),y.canHideFromTrending&&!n.isHiddenFromTrending&&m.Oo&&(0,o.jsx)(Ve,{topicId:c,updateModal:N}),y.canMoveToDiscuss&&m.Oo&&(0,o.jsx)(Ke,{topicId:c,updateModal:N}),y.canDelete&&!n.isDeleted&&(0,o.jsx)(tt,{topicId:c,updateModal:N,slug:n.slug}),y.canRestore&&n.isDeleted&&(0,o.jsx)(it,{topicId:c,updateModal:N})]}),m.Oo||!u?(0,o.jsx)(ut.y,{postId:c,articleId:n.uuid,visible:j,onCancel:C}):(0,o.jsx)(ut.a,{visible:j,onCancel:C,isOfficial:n.isOfficial,solutionTitle:n.title,slug:n.slug}),S]})},ct=n(66372);function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){dt(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M16.848 13.05l.918 7.848a1 1 0 01-1.508.974L12 19.317l-4.258 2.555a1 1 0 01-1.508-.974l.918-7.848a7 7 0 119.695 0zm-1.864 1.284A6.973 6.973 0 0112 15a6.972 6.972 0 01-2.984-.666l-.56 4.776 3.03-1.817a1 1 0 011.028 0l3.03 1.817-.56-4.776zM17 8A5 5 0 117 8a5 5 0 0110 0z",clipRule:"evenodd"})}))})),vt=n(97383),mt=n(46242);function pt(e,t,n,o,r,i,l){try{var a=e[i](l),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(o,r)}var bt=n(20237),gt=n(28628);function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(e){var t,n,r=e.userSlug,i=function(e){var t,n,o=(0,j.aT1)(w.f6,{userSlug:e},{enabled:!!e,notifyOnChangeProps:["data"],select:function(e){var n;return null!==(t=null===(n=e.userProfilePublicProfile)||void 0===n?void 0:n.isFollowed)&&void 0!==t&&t}}).data,r=void 0!==o&&o,i=(0,P.useQueryClient)(),l=j.aT1.getKey({userSlug:e}),a=(0,Y.v)((function(e){return e.questionSlug})),u=(r?j.$i1:j.MkQ)(w.f6,{onMutate:(n=ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.getQueryData(l),i.setQueryData(l,(function(e){var t;return{userProfilePublicProfile:{isFollowed:!(null===e||void 0===e||null===(t=e.userProfilePublicProfile)||void 0===t?void 0:t.isFollowed)}}})),pe.d.qdSubscribePostCnClick({qd_version:f.AQ,qd_question_slug:a}),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(o,r){var i=n.apply(e,t);function l(e){pt(i,o,r,l,a,"next",e)}function a(e){pt(i,o,r,l,a,"throw",e)}l(void 0)}))}),onError:function(e,t,n){i.setQueryData(l,n),(0,ne.defaultErrorHandler)(e)}}),s=u.mutateAsync;return{toggleFollow:(0,mt.z)((function(){s({userSlug:e})})),isFollowed:r}}(r),l=i.toggleFollow,a=i.isFollowed,u=(0,Ie.U)(),s=u.data,c=u.isLoading;return(null===s||void 0===s||null===(t=s.userStatus)||void 0===t?void 0:t.userSlug)===r||c?null:(0,o.jsx)(bt.z,{variant:"plain",className:(0,v.yI)("ml-auto rounded-lg",(n={},yt(n,(0,v.yI)(p.Cj.label3,p.Cj.fill3,"border border-transparent"),a),yt(n,(0,v.yI)(p.Cj.labelGreenStandard,"border"),!a),n)),onClick:l,children:a?"\u5df2\u5173\u6ce8":(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(gt.S,{className:"mr-1 h-4 w-4"}),"\u5173\u6ce8"]})})},xt=n(98537),jt=n(34302),wt=n(47400),Ct=n(54787),Ot=function(e){var t=e.className,n=e.solution,r=(0,a.$G)("solutions",{keyPrefix:"post"}).t,i=(0,xt.b)(),l=(0,je.r)(),u=n.author,s=[u.username],c=(0,vt.E)(s).data,d=null===c||void 0===c?void 0:c[u.username],f=n.title.slice(0,100)+(n.title.length>100?"...":"");return(0,o.jsx)("div",{className:(0,v.yI)("w-full",t),children:(0,o.jsxs)("div",{className:"flex min-w-0 flex-col gap-4",children:[(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[!i&&(0,o.jsx)(jt.D,{userAvatar:u.userAvatar,username:u.username}),(0,o.jsx)("div",{className:(0,v.yI)("text-lg font-medium ",p.Cj.label1),style:{wordBreak:"break-all"},children:f}),m.ob&&(0,o.jsx)(ht,{userSlug:u.username})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(wt.S,{realName:u.realName,username:u.username,badgeIcon:u.activeBadgeIcon||(null===d||void 0===d?void 0:d.activeBadgeIcon)||"",badgeName:u.activeBadgeName||(null===d||void 0===d?void 0:d.activeBadgeName)||"",userClassName:"font-normal",reputation:null===d||void 0===d?void 0:d.reputation}),m.Oo&&u.isAdmin&&(0,o.jsx)(be.E,{icon:ct.f,label:r("isAdmin"),iconClassName:p.Cj.labelGrey6}),!n.isOfficial&&m.Oo&&(0,o.jsx)(we.e,{title:r("reputationTooltip"),showArrow:!1,color:l["gray-7"],children:(0,o.jsx)("div",{children:(0,o.jsx)(be.E,{icon:ft,label:u.reputation,iconClassName:p.Cj.labelGrey6})})}),(0,o.jsx)(Ct.c,{timestamp:n.creationDate,formattedDateClassName:p.Cj.label2,iconClassName:p.Cj.labelGrey6}),!m.Oo&&n.ipRegion&&(0,o.jsxs)("span",{className:(0,v.yI)(p.Cj.label2,"flex-shrink-0 text-xs"),children:["\u53d1\u5e03\u4e8e ",n.ipRegion]})]})]})})},St=n(37969),Nt=n(37599);function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pt=function(){var e=(0,a.$G)("solutions",{keyPrefix:"post"}).t,t=It((0,St.c)(window.location.href,{successDuration:1e3}),2),n=t[0],i=t[1],l=(0,r.useCallback)((function(){return i()}),[i]),u=(0,Y.v)((function(e){return e.questionSlug}));return(0,r.useEffect)((function(){n&&(X.y.success(e("shareCopySuccess"),{itemClassName:p.Cj.bgLayer3}),pe.d.qdSharePostClick({qd_version:f.AQ,qd_question_slug:u,qd_share_url:window.location.href}))}),[n,u,e]),(0,o.jsx)(be.E,{icon:Nt.Q,iconClassName:(0,v.yI)("h-4.5 w-4.5",p.Cj.labelGrey7,p.M$.labelGrey8Group),label:e("share"),labelClassName:(0,v.yI)("text-md font-medium",p.M$.label1Group),className:"group cursor-pointer select-none",onClick:l})},Tt=n(41729);function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){At(e,t,n[t])}))}return e}var Dt=function(e){var t=e.topicId,n=(0,P.useQueryClient)();return(0,x.sbl)(w.f6,{onSuccess:function(e){var o,r,i;if(null===(o=e.votePost)||void 0===o?void 0:o.ok){var l=Number(null===(r=e.votePost)||void 0===r||null===(i=r.post)||void 0===i?void 0:i.voteStatus);n.invalidateQueries("communitySolutions"),re({queryClient:n,topicId:t,cb:function(e){var t=e.topic.post.voteCount+(l-e.topic.post.voteStatus);return{topic:qt({},e.topic,{post:qt({},e.topic.post,{voteStatus:l,voteCount:t})})}}})}}})};function Et(e){return e===j.kt6.Upvote||e===j.kt6.ThumbsDown}var Bt=function(e){var t=(0,P.useQueryClient)();return(0,j.ujV)(w.f6,{onSuccess:function(n,o){var r;if(null===(r=n.columnsAddReaction)||void 0===r?void 0:r.ok){var i=o.reactionType,l=j.ZL7.getKey({slug:e});t.setQueriesData(l,(function(e){var t=(0,te.Z)(e);if(null===t||void 0===t?void 0:t.solutionArticle){var n,o=t.solutionArticle.reactionType;t.solutionArticle.reactionType=i,t.solutionArticle.reactionsV2||(t.solutionArticle.reactionsV2=[]),t.solutionArticle.reactionsV2.find((function(e){return e.reactionType===j.kt6.Upvote}))||t.solutionArticle.reactionsV2.push({count:0,reactionType:j.kt6.Upvote}),null===(n=t.solutionArticle.reactionsV2)||void 0===n||n.forEach((function(e){Et(o)&&Et(i)&&Et(e.reactionType)&&e.reactionType!==i&&e.count--,e.reactionType===i&&e.count++}))}return t}))}}})},Rt=function(e){var t=(0,P.useQueryClient)();return(0,j.X0d)(w.f6,{onSuccess:function(n){var o;if(null===(o=n.columnsRemoveReaction)||void 0===o?void 0:o.ok){var r=j.ZL7.getKey({slug:e});t.setQueriesData(r,(function(e){var t=(0,te.Z)(e);if(null===t||void 0===t?void 0:t.solutionArticle){var n,o=t.solutionArticle.reactionType;t.solutionArticle.reactionType=null,null===(n=t.solutionArticle.reactionsV2)||void 0===n||n.forEach((function(e){e.reactionType===o&&e.count--}))}return t}))}}})},Lt=m.Oo?function(e){var t=e.upvoted,n=e.topicId,o=e.postId,i=Dt({topicId:n}),l=i.mutateAsync,a=i.isLoading,u=(0,r.useCallback)((function(){return l({postId:o,voteStatus:t?O.i7.None:O.i7.Upvote}).then((function(e){var t,n;return{ok:null===(t=e.votePost)||void 0===t?void 0:t.ok,error:null===(n=e.votePost)||void 0===n?void 0:n.error}}))}),[o,t,l]);return{mutateAsync:u,isLoading:a}}:function(e){var t=e.upvoted,n=e.articleId,o=e.slug,i=Bt(o),l=i.mutateAsync,a=i.isLoading,u=Rt(o),s=u.mutateAsync,c=u.isLoading,d=(0,r.useCallback)((function(){return t?s({articleId:n}).then((function(e){var t,n;return{ok:null===(t=e.columnsRemoveReaction)||void 0===t?void 0:t.ok,error:!(null===(n=e.columnsRemoveReaction)||void 0===n?void 0:n.ok)}})):l({articleId:n,reactionType:j.kt6.Upvote}).then((function(e){var t,n;return{ok:null===(t=e.columnsAddReaction)||void 0===t?void 0:t.ok,error:!(null===(n=e.columnsAddReaction)||void 0===n?void 0:n.ok)}}))}),[n,s,t,l]);return{mutateAsync:d,isLoading:c||a}},_t=m.Oo?function(e){var t=e.downVoted,n=e.topicId,o=e.postId,i=Dt({topicId:n}),l=i.mutateAsync,a=i.isLoading,u=(0,r.useCallback)((function(){return l({postId:o,voteStatus:t?O.i7.None:O.i7.Downvote}).then((function(e){var t,n;return{ok:null===(t=e.votePost)||void 0===t?void 0:t.ok,error:null===(n=e.votePost)||void 0===n?void 0:n.error}}))}),[o,t,l]);return{mutateAsync:u,isLoading:a}}:function(e){var t=e.downVoted,n=e.articleId,o=e.slug,i=Bt(o),l=i.mutateAsync,a=i.isLoading,u=Rt(o),s=u.mutateAsync,c=u.isLoading,d=(0,r.useCallback)((function(){return t?s({articleId:n}).then((function(e){var t,n;return{ok:null===(t=e.columnsRemoveReaction)||void 0===t?void 0:t.ok,error:!(null===(n=e.columnsRemoveReaction)||void 0===n?void 0:n.ok)}})):l({articleId:n,reactionType:j.kt6.ThumbsDown}).then((function(e){var t,n;return{ok:null===(t=e.columnsAddReaction)||void 0===t?void 0:t.ok,error:!(null===(n=e.columnsAddReaction)||void 0===n?void 0:n.ok)}}))}),[n,s,t,l]);return{mutateAsync:d,isLoading:c||a}},Ft=n(49848);function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Mt(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{d:"M8.735 2.13a1 1 0 00-1.47 0L1.55 8.321C.96 8.962 1.412 10 2.284 10H6v2.667C6 13.403 6.597 14 7.334 14h1.333C9.403 14 10 13.403 10 12.667V10h3.716c.872 0 1.326-1.038.735-1.678L8.735 2.129z"})}))}));function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Ht(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8.667 7.333v-4H7.334v4H3.046L8 12.701l4.955-5.368H8.667zm-.912 5.633zM6 3.333C6 2.597 6.597 2 7.334 2h1.333C9.403 2 10 2.597 10 3.333V6h3.716c.872 0 1.326 1.038.735 1.678l-5.716 6.193a1 1 0 01-1.47 0L1.55 7.678C.96 7.038 1.412 6 2.284 6H6V3.333z",clipRule:"evenodd"})}))}));function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Qt(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{d:"M10 3.333V6h3.716c.872 0 1.326 1.038.735 1.678l-5.716 6.193a1 1 0 01-1.47 0L1.55 7.678C.96 7.038 1.412 6 2.284 6H6V3.333C6 2.597 6.597 2 7.334 2h1.333C9.403 2 10 2.597 10 3.333z"})}))})),Ut=n(57199),zt=n(65890),Zt=n(30101),Kt=n(87388);function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt,Jt,en=(Yt=m.Oo?[Ft.X,Gt,$t,Vt]:[Ut.h,zt.C,Zt.y,Kt.j],Jt=4,function(e){if(Array.isArray(e))return e}(Yt)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}}(Yt,Jt)||function(e,t){if(e){if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}(Yt,Jt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),tn=en[0],nn=en[1],on=en[2],rn=en[3],ln=function(e){var t=e.Icon,n=e.className,r=e.onClick;return(0,o.jsx)("div",{className:(0,v.yI)("flex h-6 w-6 cursor-pointer items-center justify-center",n),onClick:r,children:(0,o.jsx)(t,{className:"h-4.5 w-4.5"})})},an=function(e){var t=e.className,n=e.solution,i=e.hiddenThumbsDown,l=void 0!==i&&i,u=e.isInFloatingAction,s=void 0!==u&&u,c=(0,a.$G)("solutions",{keyPrefix:"post"}).t,d=n.voteCount,b=n.postId,g=n.id,y=n.reactionType,h=n.uuid,x=n.slug,w=(0,r.useState)(n.voteStatus),C=w[0],S=w[1];(0,r.useEffect)((function(){return S(n.voteStatus)}),[n.voteStatus]);var N,k=m.Oo?C===O.i7.Upvote:!!y&&y!==j.kt6.ThumbsDown,I=m.Oo?C===O.i7.Downvote:y===j.kt6.ThumbsDown,P=Lt({upvoted:k,topicId:g,articleId:h,postId:b,slug:x}),T=P.isLoading,A=P.mutateAsync,q=_t({downVoted:I,topicId:g,articleId:h,postId:b,slug:x}),D=q.isLoading,E=q.mutateAsync,B=(0,Y.v)((function(e){return e.questionSlug})),R=(0,Tt.r)(),L=R.isSignedIn,_=R.isVerified,F=m.Oo&&(!L||!_),M=(0,r.useCallback)((function(){L?_||X.y.error(c("verifyVoteError")):X.y.error(c("signInVoteError"))}),[L,_,c]),G=(0,r.useCallback)((function(){F?M():A().then((function(e){var t=e.ok,n=e.error;!t&&X.y.error(null!==n&&void 0!==n?n:c("genericError"),{itemClassName:p.Cj.bgLayer3}),t&&pe.d.qdUpVotePostClick({qd_version:f.AQ,qd_question_slug:B,qd_up_vote_pos:s?"floating_bar":"bottom_bar"})}))}),[A,c,B,s,F,M]),H=(0,r.useCallback)((function(){F?M():E().then((function(e){var t=e.ok,n=e.error;!t&&X.y.error(null!==n&&void 0!==n?n:c("genericError"),{itemClassName:p.Cj.bgLayer3}),t&&pe.d.qdDownVotePostClick({qd_version:f.AQ,qd_question_slug:B})}))}),[E,c,B,F,M]),$=(0,v.yI)(p.Cj.labelGrey7,p.Cj.labelGrey8Hover);return(0,o.jsxs)("div",{className:(0,v.yI)("flex items-center justify-center gap-1.5",t),children:[(0,o.jsx)(ln,{Icon:k?nn:tn,className:k?m.Oo?p.Cj.labelGreenStandard:p.Cj.labelBlueStandard:$,onClick:T?void 0:G}),(0,o.jsx)("div",{className:(0,v.yI)(k&&m.ob?p.Cj.labelBlueStandard:p.Cj.label2,"text-center text-md font-medium"),children:d}),!l&&(0,o.jsx)(ln,{Icon:I?rn:on,className:(0,v.yI)((N={},Xt(N,p.Cj.labelGrey8,I&&m.Oo),Xt(N,p.Cj.labelRedStandard,I&&!m.Oo),Xt(N,$,!I),Xt(N,"ml-3",!m.Oo),N)),onClick:D?void 0:H})]})},un=n(70735),sn=n(88667),cn=function(e){var t=e.actionsDom,n=e.solution,i=(0,un.s)(t,{threshold:1}),l=(0,r.useMemo)((function(){return!!t&&(t.getBoundingClientRect().top>=0&&!(null===i||void 0===i?void 0:i.isIntersecting))}),[t,null===i||void 0===i?void 0:i.isIntersecting]),a=(0,Y.v)((function(e){return e.questionSlug})),u=(0,E.yU)().commentsTopAnchor,s=(0,r.useCallback)((function(){null===u||void 0===u||u.scrollIntoView({behavior:"smooth"}),pe.d.qdViewPostCommentClick({qd_version:f.AQ,qd_question_slug:a})}),[u,a]);return(0,o.jsxs)("div",{className:(0,v.yI)(p.Cj.bgLayer3,p.eq.card,"cursor-pointer rounded-full","fixed bottom-4 flex items-center justify-center gap-3","h-10 px-4 transition-[opacity,_transform] duration-500",{"translate-y-0":l,"translate-y-[200%]":!l}),children:[(0,o.jsx)(an,{solution:n,hiddenThumbsDown:!0,isInFloatingAction:!0}),(0,o.jsx)(R.i,{orientation:"vertical",className:"h-3"}),(0,o.jsx)(xe,{hasLabel:!1,solution:n,isInFloatingAction:!0}),(0,o.jsx)(R.i,{orientation:"vertical",className:"h-3"}),(0,o.jsx)(be.E,{icon:sn.h,iconClassName:(0,v.yI)("h-4.5 w-4.5",p.Cj.labelGrey7,p.M$.labelGrey8Group),onClick:s})]})},dn=n(91052),fn=n(32180);function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){vn(e,t,n[t])}))}return e}var pn=m.Oo?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=mn({},(0,fn.Z)(e,["page","perPage"]),{skip:(e.page-1)*e.perPage,first:e.perPage});return(0,x.sN1)(w.f6,mn({},n),mn({},t,{enabled:Boolean(e.questionSlug),select:function(e){var t=e.prevSolution,n=e.nextSolution;return t||n?{prevSolution:t?{topicId:t.id,title:t.title}:void 0,nextSolution:n?{topicId:n.id,title:n.title}:void 0}:{prevSolution:void 0,nextSolution:void 0}}}))}:function(e){var t=mn({},(0,fn.Z)(e,["page","perPage"]),{skip:(e.page-1)*e.perPage,first:e.perPage});return(0,P.useQuery)(x.sN1.getKey(t),(function(){return{prevSolution:void 0,nextSolution:void 0}}))},bn=n(26421),gn=n(98335),yn=n(95248),hn=function(e){var t=e.className,n=e.placement,i=e.questionSlug,l=e.topicId,u=e.title,s=(0,a.$G)("solutions",{keyPrefix:"post"}).t,d=(0,bn.l)(u),m=c.Hb.solutions(i,l,d),g="left"===n,y="right"===n,h=g?gn.D:yn.E,x=s(g?"prevLabel":"nextLabel"),j=(0,Y.v)((function(e){return e.questionSlug})),w=(0,r.useCallback)((function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"auto"}),(0,b.aq)({topicId:l,topicTitleSlug:d}),pe.d.qdPrevNextPostClick({qd_version:f.AQ,qd_question_slug:j,qd_post_switch_type:g?"prev":"next"})}),[g,j,l,d]);return(0,o.jsxs)(Ce.r,{href:m,className:(0,v.yI)(p.Cj.fill3,p.Cj.fill2Hover,"flex min-w-0 justify-between gap-3 rounded-lg py-3 pl-3 pr-4",t),onClick:w,children:[(0,o.jsx)("div",{className:(0,v.yI)("flex h-full items-center",{"order-1":g,"order-2":y}),children:(0,o.jsx)(h,{className:(0,v.yI)(p.Cj.labelGrey5,"h-4 w-4")})}),(0,o.jsxs)("div",{className:(0,v.yI)("flex w-full flex-col gap-1 overflow-hidden",{"order-2":g,"order-1":y}),children:[(0,o.jsx)("div",{className:(0,v.yI)(p.Cj.label3,"text-[11px] font-medium leading-[13px]",{"text-right":g,"text-left":y}),children:x}),(0,o.jsx)("div",{className:(0,v.yI)(p.Cj.label1,"truncate text-md font-medium",{"text-right":g,"text-left":y}),children:u})]})]})};function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jn=function(){return(0,o.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,o.jsx)(dn.a,{className:"h-[64px] w-full"}),(0,o.jsx)(dn.a,{className:"h-[64px] w-full"})]})},wn=function(e){var t=e.topicId,n=(0,b.cm)((function(e){return e.questionSlug})),r=(0,Je.n)().filters,i=pn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){xn(e,t,n[t])}))}return e}({},r,{topicId:t,questionSlug:n})),l=i.isLoading,a=i.data;if(l||!a)return(0,o.jsx)(jn,{});var u=a.prevSolution,s=a.nextSolution;return(0,o.jsxs)("div",{className:"flex justify-between gap-4",children:[u&&(0,o.jsx)(hn,{className:"w-full",placement:"left",questionSlug:n,topicId:u.topicId,title:u.title}),s&&(0,o.jsx)(hn,{className:"w-full",placement:"right",questionSlug:n,topicId:s.topicId,title:s.title})]})},Cn=n(33099),On=n.n(Cn),Sn={highlight:!0,gfm:!0,math:!0,html:!0,mcqs:m.Oo,diaporama:m.Oo,imageSize:!0,embedVideos:m.Oo,normalVideo:m.ob,groupedCode:!0,relAttribute:!0,httpsImagesOnly:m.Oo,premiumOnlyVideo:m.Oo,htmlSanitization:!0,nodebbImageTransformation:m.Oo,brokenImageHolder:!0,linkSift:m.ob,linkTargetBlank:!0,aliPlayerVideo:m.ob,slides:m.ob,toc:!0},Nn=(0,B.t)(Object.assign({},Sn,{preserveLineBreaks:m.Oo})),kn=(0,B.t)(Object.assign({},Sn,{preserveLineBreaks:!1})),In=function(e){var t,n=e.solution,i=n.isOfficial,l=(0,r.useState)(null),a=l[0],s=l[1],c=n.isOfficial?null===n||void 0===n||null===(t=n.content)||void 0===t?void 0:t.replace(/\[toc\]/gi,""):null===n||void 0===n?void 0:n.content,d=!i||m.ob,f=function(){var e=(0,u.useRouter)();return(0,r.useMemo)((function(){return new URL("".concat(_.jY).concat(e.asPath))}),[e.asPath])}(),b=(0,r.useMemo)((function(){var e;return{author:null!==(e=n.author.realName)&&void 0!==e?e:n.author.username,link:"".concat(f.origin).concat(f.pathname)}}),[n.author.realName,n.author.username,f.origin,f.pathname]),g=(0,L.d1)(b);return(0,o.jsxs)("div",{className:"flex w-full flex-col gap-4 px-5 pt-4 pb-8",children:[(0,o.jsx)("div",{children:(0,o.jsx)(Ot,{solution:n})}),(0,o.jsx)("div",{className:"break-words",onCopy:g,children:(0,o.jsx)(W,{children:(0,o.jsx)(L.yT,{value:b,children:i?(0,o.jsx)(kn,{content:c||"",customStyles:On()}):(0,o.jsx)(Nn,{content:c||"",customStyles:On()})})})}),d&&(0,o.jsx)("div",{className:"flex w-full justify-center z-message",children:(0,o.jsx)(cn,{solution:n,actionsDom:a})}),(0,o.jsxs)("div",{className:"mb-4 flex w-full items-center justify-between",ref:s,children:[(0,o.jsxs)("div",{className:"flex items-center gap-6",children:[(!i||m.ob)&&(0,o.jsx)(an,{solution:n}),m.Oo&&!i&&(0,o.jsx)(R.i,{orientation:"vertical",className:(0,v.yI)("-mx-3 h-3",p.Cj.divider3)}),(0,o.jsx)(Pt,{}),(!i||m.ob)&&(0,o.jsx)(xe,{solution:n,hasLabel:!0})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[i&&m.Oo&&(0,o.jsx)(Se,{}),(0,o.jsx)(st,{solution:n,placement:"top"})]})]}),(0,o.jsx)(wn,{topicId:n.id})]})},Pn=n(92704),Tn=n(8240),An=n(91455),qn=n(72388),Dn=n(27459),En=n(54630);function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _n=function(e){var t,n=e.index,i=e.fill,l=e.onHoverChange,a=e.onClick,u=e.className,s=(0,r.useRef)(null),c=Ln((0,En.X)(),2),d=c[0],f=c[1];return(0,r.useEffect)((function(){s.current&&d(s.current)}),[s,d]),(0,r.useEffect)((function(){l&&l(n,f)}),[n,f,l]),(0,o.jsx)("div",{className:"cursor-pointer px-1",onClick:function(){a&&a(n)},ref:s,children:(0,o.jsx)(ve.z,{className:(0,v.yI)("h-4 w-4",(t={},Rn(t,p.Cj.labelGrey4,!i),Rn(t,p.Cj.labelYellow,i),t),u)})})},Fn=function(e){var t=e.percent,n=e.onClick,i=(0,r.useState)(!1),l=i[0],a=i[1],u=(0,r.useState)(0),s=u[0],c=u[1],d=(0,r.useCallback)((function(e,t){a(t),t&&c(e)}),[]),f=[1,2,3,4,5],v=l?20*s:t;return(0,o.jsxs)("div",{className:"relative hidden lc-md:block",children:[(0,o.jsx)("div",{className:"flex items-center",children:f.map((function(e){return(0,o.jsx)(_n,{index:e,fill:!1,onClick:n,onHoverChange:d},e)}))}),(0,o.jsx)("div",{className:"pointer-events-none absolute top-0 left-0 flex items-center overflow-hidden",style:{width:"".concat(v,"%")},children:f.map((function(e){return(0,o.jsx)(_n,{index:e,fill:!0,className:"flex-none"},e)}))})]})},Mn=function(e){var t=e.className,n=e.solution,i=(0,a.$G)("solutions",{keyPrefix:"post"}).t,l=(0,b.cm)((function(e){return e.questionSlug})),u=function(e){var t=(0,P.useQueryClient)();return(0,x.Hth)(w.f6,{onSuccess:function(n){var o;(null===(o=n.rateArticle)||void 0===o?void 0:o.ok)&&t.invalidateQueries(x.gKm.getKey({titleSlug:e}))}})}(l).mutateAsync,s=(0,r.useCallback)((function(e){u({contentTypeId:n.contentTypeId,objectId:n.solutionId,score:e}).then((function(e){var t,n,o;(null===(t=e.rateArticle)||void 0===t?void 0:t.ok)?X.y.success(i("rateSuccess"),{itemClassName:p.Cj.bgLayer3}):X.y.error(null!==(o=null===(n=e.rateArticle)||void 0===n?void 0:n.error)&&void 0!==o?o:i("genericError"),{itemClassName:p.Cj.bgLayer3})}))}),[u,n,i]),c=(0,Dn.ZP)(n.starRating,{precision:2}),d=n.starRatingCount,f=100*n.starRating/5;return(0,o.jsxs)("div",{className:(0,v.yI)("flex items-center gap-2 pl-4",t),children:[(0,o.jsxs)("div",{className:(0,v.yI)("flex gap-0.5 text-xs"),children:[(0,o.jsx)("div",{className:(0,v.yI)("font-medium",p.Cj.label1),children:c}),d&&(0,o.jsx)("div",{className:(0,v.yI)(p.Cj.label2),children:i("votes",{votesCount:d})})]}),(0,o.jsx)(Fn,{percent:f,onClick:s})]})};function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=function(e){var t,n,i,l,a,u,s,c,d,g,y,h=e.className,x=e.questionSlug,j=e.solution,w=null===(t=(0,Ie.U)().data)||void 0===t||null===(n=t.userStatus)||void 0===n?void 0:n.useTranslation,C=(null===(i=(0,Tn.K)(x).data)||void 0===i?void 0:i.title)||"",S=(null===(l=(0,An.z)(w?x:"").data)||void 0===l?void 0:l.translatedTitle)||"",N=w&&S||C,k=(null===(a=(0,Ie.U)().data)||void 0===a||null===(u=a.userStatus)||void 0===u?void 0:u.isAdmin)||!1,I=Boolean(null===(s=(0,Ie.U)().data)||void 0===s||null===(c=s.userStatus)||void 0===c?void 0:c.isSignedIn),P=Boolean(null===(d=(0,Ie.U)().data)||void 0===d||null===(g=d.userStatus)||void 0===g?void 0:g.isPremium),T=Boolean(j.isOfficial),A=(0,Pn.v)(j.author.username),q=(0,r.useCallback)((function(){pe.d.qdLeavePostClick({qd_version:f.AQ,qd_question_slug:x}),(0,b.aq)({},!0)}),[x]);return(0,o.jsxs)("div",{className:(0,v.yI)("flex w-full items-center justify-between border-b",p.Cj.divider3,h),children:[(0,o.jsxs)("button",{className:(0,v.yI)("group flex cursor-pointer items-center justify-start gap-4 overflow-hidden"),onClick:q,children:[(0,o.jsx)("div",{className:"h-4 w-4 flex-none",children:(0,o.jsx)(gn.D,{className:(0,v.yI)("h-full w-full",p.Cj.labelGrey7,p.M$.labelGrey8Group)})}),(0,o.jsx)(qn.J,{className:(0,v.yI)("text-base font-medium",p.Cj.label2,p.M$.label1Group),title:N,showArrow:!1,children:N}),k&&m.Oo&&(0,o.jsx)("div",{className:(0,v.yI)("flex-none rounded-md px-2 text-base font-medium",p.Cj.fill2,p.Cj.label2,(y={},Gn(y,p.Cj.labelRed,j.status===O.$4.Deleted),Gn(y,p.Cj.labelBlueStandard,j.status===O.$4.Hidden),y)),children:j.status})]}),m.ob&&j.status===O.$4.Pending&&A&&(0,o.jsx)("div",{className:(0,v.yI)(p.Cj.label3,"ml-auto mr-4 text-xs"),children:"\u5ba1\u6838\u4e2d"}),(0,o.jsxs)("div",{className:(0,v.yI)("flex flex-none items-center gap-3",{hidden:j.isPremium&&!P||!I}),children:[T&&m.Oo&&(0,o.jsx)(Mn,{solution:j}),(0,o.jsx)("div",{className:"hidden h-4.5 w-4.5 lc-md:block",children:(0,o.jsx)(st,{solution:j,placement:"bottom"})})]})]})},$n=n(29732),Qn=function(e){var t=e.className,n=e.label,r=e.value;return(0,o.jsxs)("div",{className:(0,v.yI)("flex justify-between",t),children:[(0,o.jsx)("div",{className:(0,v.yI)("text-md font-medium",p.Cj.label3),children:n}),(0,o.jsx)("div",{className:(0,v.yI)("flex items-center justify-center rounded-[5px] py-0.5 px-2 text-xs font-medium",p.Cj.label1,p.Cj.fill2),children:r})]})},Vn=n(93250),Un=n(28616),zn=function(e){var t=e.tags,n=e.title,r=e.isOfficial,i=e.isPinned,l=e.isOwnPost,u=(0,a.$G)("solutions",{keyPrefix:"tags"}).t;return(0,o.jsxs)("div",{className:"flex w-full flex-col items-start gap-2",children:[(0,o.jsx)("span",{className:(0,v.yI)("text-md font-medium",p.Cj.label3),children:n}),(0,o.jsxs)("div",{className:"flex w-full flex-wrap items-start gap-2",children:[r&&(0,o.jsx)(Un.S,{text:u("official"),color:"orange",className:"shrink-0 rounded-full"}),i&&(0,o.jsx)(Un.S,{text:u("pinned"),color:"green",className:"shrink-0 rounded-full"}),l&&(0,o.jsx)(Un.S,{text:u("mySolution"),color:"blue",className:"shrink-0 rounded-full"}),t.map((function(e){return(0,o.jsx)(Vn.V,{text:e,className:"py-0.5"},e)}))]})]})},Zn=n(1943),Kn=function(e){var t=e.topicId,n=e.title,i=e.className,l=e.children,a=e.slug,u=(0,b.cm)((function(e){return e.questionSlug})),s=a||(0,bn.l)(n),d=(0,r.useCallback)((function(e){e.preventDefault(),(0,b.aq)({topicId:t,topicTitleSlug:s}),(0,g.WW)({},!0)}),[t,s]);return(0,o.jsx)(Ce.r,{href:c.Hb.solutions(u,t,s),onClick:d,className:i,children:l})},Wn=function(e){var t=e.id,n=e.author,r=e.title,i=e.tags,l=e.slug;return(0,o.jsx)(Kn,{topicId:t,title:r,slug:l,children:(0,o.jsxs)("div",{className:(0,v.yI)("flex w-full gap-3 rounded-lg py-2 px-2",p.Cj.fill4Hover),children:[(0,o.jsx)(jt.D,{userAvatar:n.userAvatar,username:n.username,imgClassName:"w-6 h-6 flex-none",clickable:!1}),(0,o.jsxs)("div",{className:"flex flex-1 flex-col gap-2 overflow-hidden",children:[(0,o.jsx)(qn.J,{className:(0,v.yI)("text-md font-medium",p.Cj.label1),title:r,showArrow:!1,children:r}),i.length>0&&(0,o.jsx)(Zn.P,{tags:i,tagClassName:"py-0.5"})]})]})})},Xn=n(7410);function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn=r.forwardRef((function(e,t){return(0,o.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Yn(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M20 5a1 1 0 100-2H4a1 1 0 000 2h16zm.207 9.707a1 1 0 01-1.414 0L13 8.914V21a1 1 0 11-2 0V8.914l-5.793 5.793a1 1 0 01-1.414-1.414L10.586 6.5a2 2 0 012.828 0l6.793 6.793a1 1 0 010 1.414z",clipRule:"evenodd"})}))})),eo=function(){var e,t=(0,a.$G)("solutions",{keyPrefix:"post"}).t,n=(0,r.useState)(null),i=n[0],l=n[1],u=(0,r.useState)(null),s=u[0],c=u[1],d=(0,un.s)(i,{threshold:0}),f=(0,Xn.i)().height,m=null!==(e=null===d||void 0===d?void 0:d.isIntersecting)&&void 0!==e&&e,b=(0,r.useMemo)((function(){if(!s)return 0;var e=document.body.getBoundingClientRect().top,t=s.getBoundingClientRect().top-e;return Number(f)-t+300}),[s,f]),g=(0,r.useCallback)((function(){i&&window.scrollTo({top:0,behavior:"smooth"})}),[i]);return(0,o.jsxs)("div",{className:"relative flex w-full flex-1 flex-col overflow-hidden",children:[(0,o.jsxs)("div",{className:"absolute top-0 left-0 flex h-full w-full flex-col",children:[(0,o.jsx)("div",{className:"w-full flex-none",style:{height:b},ref:c}),(0,o.jsx)("div",{className:(0,v.yI)("w-full flex-1"),ref:l})]}),(0,o.jsxs)("div",{onClick:g,className:(0,v.yI)(p.Cj.bgLayer1,p.M$.bgLayer2,p.eq.card,"cursor-pointer rounded-full","fixed bottom-4 flex items-center justify-center gap-2","h-10 p-4 px-4 transition-[bottom,_transform] duration-500",{"translate-y-0":m,"translate-y-[200%]":!m}),children:[(0,o.jsx)(Jn,{className:(0,v.yI)("h-4 w-4",p.Cj.labelGrey5)}),(0,o.jsx)("div",{className:(0,v.yI)("text-md font-medium",p.Cj.label2),children:t("backToTop")})]})]})},to=function(e){var t,n=e.solution,r=e.className,i=(0,a.$G)("solutions",{keyPrefix:"sidebar"}).t,l=n.commentCount,u=n.favoriteCount,s=n.viewCount,c=n.tags,d=n.isOfficial,f=n.isPinned,b=n.isOwnPost,g=d||f||b||c.length>0,y=(t=n.uuid,(0,j.PX_)(w.f6,{uuid:t},{enabled:!!t&&m.ob,select:function(e){return(0,$n.Z)(e.columnsRecommendedContents.map((function(e){var t,n;return"RecommendedArticleNode"===e.__typename&&e.topicId?{title:e.title,id:Number(e.topicId),slug:e.slug,tags:e.tags.map((function(e){return e.nameTranslated||e.name})),author:{userAvatar:(null===(t=e.author)||void 0===t?void 0:t.userAvatar)||"",username:(null===(n=e.author)||void 0===n?void 0:n.username)||""}}:null})))}})).data,h=n.relatedSolutions||y,x=h&&(null===h||void 0===h?void 0:h.length)>0;return(0,o.jsxs)("div",{className:(0,v.yI)("flex flex-col gap-4",r),children:[(0,o.jsxs)(D.Z,{className:"flex w-full flex-col gap-4 rounded-xl p-4",children:[(0,o.jsx)(Qn,{label:i("comments"),value:(0,Dn.ZP)(l)}),!d&&(0,o.jsx)(Qn,{label:i("favorite"),value:(0,Dn.ZP)(u)}),(0,o.jsx)(Qn,{label:i("views"),value:(0,Dn.ZP)(s)}),g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.i,{}),(0,o.jsx)(zn,{tags:c,title:i("relatedTags"),isOfficial:d,isPinned:f,isOwnPost:b})]})]}),x&&(0,o.jsxs)(D.Z,{className:"sticky top-4 flex w-full flex-col rounded-xl py-4 px-2 z-base-1",children:[(0,o.jsx)("span",{className:(0,v.yI)("mx-2 mb-2 text-md font-medium",p.Cj.label2),children:i("relatedSolutions")}),(0,o.jsx)("div",{className:"flex w-full flex-col",children:null===h||void 0===h?void 0:h.map((function(e,t){return(0,o.jsx)(Wn,{id:e.id,author:e.author,title:e.title,tags:e.tags,slug:e.slug},"".concat(e.id,":").concat(t))}))})]}),(0,o.jsx)(eo,{})]})},no=n(51733),oo=function(){var e=(0,a.$G)("solutions",{keyPrefix:"blocker"}).t;return(0,o.jsx)("div",{className:(0,v.yI)("absolute top-0 left-0 flex h-full w-full justify-center rounded-xl pt-[145px] backdrop-blur-sm",p.Cj.bgBlocker),children:(0,o.jsxs)("div",{className:"flex max-w-[350px] flex-col items-center gap-6",children:[(0,o.jsx)(no.d,{className:(0,v.yI)("h-16 w-16",p.Cj.labelBrandOrange)}),(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,o.jsx)("div",{className:(0,v.yI)("text-2xl font-medium",p.Cj.label1),children:e("subscribeToUnlock")}),(0,o.jsx)("div",{className:(0,v.yI)("text-center text-sm",p.Cj.label2),children:e("subscribeSubTitle")})]}),(0,o.jsx)(Ce.r,{href:c.Hb.premium("qd3_ps"),isExternal:!0,className:(0,v.yI)("cursor-pointer rounded-lg px-4 py-[5px] font-medium",p.Cj.bgBrandOrange,p.Cj.labelWhite,p.M$.labelWhite),children:e("subscribe")})]})})},ro=n(12625),io=function(e){var t=e.itemsCount,n=Array(t).fill(null);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(ro.O,{className:(0,v.yI)("flex w-full min-w-0 flex-col gap-4",p.Cj.bgLayer1),children:[(0,o.jsxs)("div",{className:"flex w-full justify-between",children:[(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(dn.a,{className:"h-6 w-[64px]"}),(0,o.jsx)(dn.a,{className:"h-6 w-[64px]"})]}),(0,o.jsx)(dn.a,{className:"h-6 w-[64px]"})]}),(0,o.jsx)(dn.a,{className:"h-[140px] w-full"}),n.map((function(e,t){return(0,o.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,o.jsxs)("div",{className:"flex w-full gap-3",children:[(0,o.jsx)(dn.a,{className:"h-10 w-10 min-w-[40px] rounded-full"}),(0,o.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,o.jsx)(dn.a,{className:"h-4 w-[20%]"}),(0,o.jsx)(dn.a,{className:"h-4 w-[25%]"})]})]}),(0,o.jsx)(dn.a,{className:"h-4 w-full"}),(0,o.jsx)(dn.a,{className:"h-4 w-[40%]"})]},t)}))]})})},lo=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(ro.O,{className:(0,v.yI)("flex w-full min-w-0 flex-col rounded-xl lc-lg:max-w-[700px]",p.Cj.bgLayer1),children:[(0,o.jsxs)("div",{className:(0,v.yI)("flex h-12 w-full items-center justify-between gap-4 border-b px-5",p.Cj.divider3),children:[(0,o.jsxs)("div",{className:"flex gap-8",children:[(0,o.jsx)(dn.a,{className:"h-4 w-4 max-w-[16px] rounded-full"}),(0,o.jsx)(dn.a,{className:"h-4 w-[72px]"})]}),(0,o.jsx)(dn.a,{className:"mr-1 h-4 w-4 max-w-[16px] rounded-full"})]}),(0,o.jsxs)("div",{className:"flex w-full flex-col gap-4 px-5 pt-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)(dn.a,{className:"h-10 w-10 max-w-[40px] rounded-full"}),(0,o.jsx)(dn.a,{className:"h-8 w-[30%]"})]}),(0,o.jsx)("div",{className:"flex gap-4",children:Array(4).fill(null).map((function(e,t){return(0,o.jsx)(dn.a,{className:"h-4 w-[8%]"},t)}))}),(0,o.jsx)("div",{className:"flex flex-col gap-4",children:Array(8).fill(null).map((function(e,t){return(0,o.jsx)(dn.a,{className:(0,v.yI)("h-4",t%2===0?"w-full":"w-[50%]")},t)}))}),(0,o.jsxs)("div",{className:"flex gap-6",children:[(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(dn.a,{className:"h-4 w-4"}),(0,o.jsx)(dn.a,{className:"h-4 w-8"}),(0,o.jsx)(dn.a,{className:"h-4 w-4"})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(dn.a,{className:"h-4 w-4"}),(0,o.jsx)(dn.a,{className:"h-4 w-8"})]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(dn.a,{className:"h-4 w-4"}),(0,o.jsx)(dn.a,{className:"h-4 w-8"})]})]}),(0,o.jsxs)("div",{className:"flex gap-5",children:[(0,o.jsx)(dn.a,{className:"h-[64px] w-full"}),(0,o.jsx)(dn.a,{className:"h-[64px] w-full"})]}),(0,o.jsx)(io,{itemsCount:10})]})]}),(0,o.jsxs)(ro.O,{className:"hidden gap-4 lc-lg:flex lc-lg:min-w-[256px] lc-lg:flex-col",children:[(0,o.jsxs)(D.Z,{className:"flex w-full flex-col gap-4 rounded-xl p-4",children:[Array(3).fill(null).map((function(e,t){return(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)(dn.a,{className:"h-5 w-[100px]"}),(0,o.jsx)(dn.a,{className:"h-5 w-5"})]},t)})),(0,o.jsx)(R.i,{}),(0,o.jsx)(dn.a,{className:"h-5 w-[30%]"}),(0,o.jsx)(dn.a,{className:"h-5 w-full"})]}),(0,o.jsxs)(D.Z,{className:"flex w-full flex-col gap-5 rounded-xl p-4",children:[(0,o.jsx)(dn.a,{className:"h-5 w-[30%]"}),Array(3).fill(null).map((function(e,t){return(0,o.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)(dn.a,{className:"h-5 w-5 rounded-full"}),(0,o.jsx)(dn.a,{className:"h-5 w-[64px]"})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)(dn.a,{className:"h-5 w-10 rounded-full"}),(0,o.jsx)(dn.a,{className:"h-5 w-10 rounded-full"}),(0,o.jsx)(dn.a,{className:"h-5 w-10 rounded-full"})]})]},t)}))]})]})]})},ao=n(51197),uo=n(15490),so=n(29982),co=function(e){var t=e.questionTitleSlug,n=(0,b.cm)((function(e){return e.topicId})),i=(0,b.cm)((function(e){return e.topicTitleSlug}))||"",l=(0,b.cm)((function(e){return e.commentId})),a=I({topicId:n,slug:i},{enabled:Boolean(n)}),s=a.isLoading,d=a.data,f=a.isFetched,g=[null===d||void 0===d?void 0:d.communitySolution,null===d||void 0===d?void 0:d.hasOfficialSolution],y=g[0],x=g[1],j=q(y,{titleSlug:t},{enabled:x}),w=j.isLoading,C=j.data,O=x?w:s,S=x?C:y,N=(0,so.$)(S),k=(0,r.useState)(null),P=k[0],T=k[1],A=(0,h.a)(P,{throttle:250}).width,B=(0,ao.p)((function(e){return e.setContainerWidth})),R=(0,E.yZ)((function(e){return e.setContainerWidth})),L=(0,E.yZ)((function(e){return e.setQuestionSlug}));(0,r.useEffect)((function(){B(A),R(A)}),[B,R,A]),(0,r.useEffect)((function(){L(t)}),[L,t]);var _=O||!S;return(0,r.useEffect)((function(){f&&!(null===d||void 0===d?void 0:d.communitySolution)&&m.ob&&u.default.push(c.Hb.notFound())}),[d,f]),m.ob&&!i?null:(0,o.jsx)("div",{className:"h-full w-full",children:(0,o.jsx)("div",{className:"flex h-full w-full items-start justify-center",children:(0,o.jsxs)("div",{className:"flex w-full max-w-[1020px] gap-4 py-4 px-4",children:[_&&(0,o.jsx)(lo,{}),!_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(D.Z,{className:(0,v.yI)("flex w-full min-w-0 flex-col rounded-xl lc-lg:max-w-[700px]",p.Cj.bgLayer1),ref:T,children:[(0,o.jsx)(Hn,{solution:S,questionSlug:t,className:"min-h-[48px] px-5"}),(0,o.jsxs)("div",{className:"relative flex w-full flex-col",children:[(0,o.jsx)(In,{solution:S}),(0,o.jsx)("div",{className:"h-full",children:(0,o.jsx)(uo.Z,{topicId:S.id,commentCount:S.commentCount,commentId:l,layoutType:S.isOfficial?E.Dk.OfficialSolution:E.Dk.Solution,hideComments:!N})}),!N&&(0,o.jsx)(oo,{})]})]}),(0,o.jsx)(to,{solution:S,className:"hidden lc-lg:flex lc-lg:w-[250px] lc-lg:min-w-[250px]"})]})]})})})},fo=n(37601),vo=n(31075),mo=n(27232),po=n(33688),bo=n(79934);function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){yo(e,t,n[t])}))}return e}function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(u){a=!0,r=u}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||wo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(e){return function(e){if(Array.isArray(e))return go(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){if(e){if("string"===typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}var Co=function(e){var t=(0,b.cm)((function(e){return e.updateTopic})),n=(0,g.Xn)((function(e){return e.updateFilters})),o=(0,r.useRef)(0),l=(0,r.useCallback)((function(e){var o=e.routerTabs,r=e.queryParams,i=r.q,l=r.orderBy,a=r.page,u=r.languageTags,s=r.topicTags;n(ho({},i?{query:i}:{query:""},l?{orderBy:l}:{orderBy:void 0},a?{page:Number(a)}:{page:1},u?{languageTags:u.split(",")}:{languageTags:[]},s?{topicTags:s.split(",")}:{topicTags:[]}));var c=xo(o,4),d=c[0],f=c[1],v=c[2],m=c[3],p=ho({},d?{topicId:Number(d)}:{topicId:void 0},f?{topicTitleSlug:f}:{topicTitleSlug:void 0},"comments"===v&&m?{commentId:Number(m)}:{commentId:void 0});t(p)}),[n,t]);(0,r.useEffect)((function(){return s.T.subscribe(bo._.RouteUpdated,(function(e){var t=e.routerTabs,n=e.queryParams;if(o.current>0)return o.current-=1;l({routerTabs:t,queryParams:n})}),{startWithLastEvent:!0})}),[l]);var a=(0,r.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null!==t&&void 0!==t?t:b.cm.getState(),l=r.topicId,a=r.topicTitleSlug,s=r.commentId,f=g.Xn.getState(),v=f.query,m=f.orderBy,p=f.languageTags,y=f.topicTags,h=f.page,x=c.Hb.solutions(e,l,a,s),j=ho({},""!==v.trim()?{q:v}:{},m?{orderBy:m}:{},h>1?{page:h}:{},p.length>0?{languageTags:p.join(",")}:{},y.length>0?{topicTags:y.join(",")}:{}),w=xo((0,d.y)(["q","orderBy","page","languageTags","topicTags"]),2),C=w[1];if(n){var O=(0,i.resolveHref)(u.default,{pathname:x,query:j});window.open(O,"_blank")}else u.default.push({pathname:x,query:ho({},C,j)},void 0,{shallow:!0});o.current+=1}),[e]);(0,r.useEffect)((function(){return s.T.subscribe(y.Ap.Navigate,(function(e,n){a(e,null===n||void 0===n?void 0:n.isExternal),(null===n||void 0===n?void 0:n.isExternal)||t(e)}))}),[a,t]),(0,r.useEffect)((function(){return s.T.subscribe(y.Ap.Editor,(function(e,t){var n=e.questionSlug,o=e.topicId,r=e.slug,l=c.Hb.solutionEditor(n,o,r);if(null===t||void 0===t?void 0:t.isExternal){var a=(0,i.resolveHref)(u.default,{pathname:l});window.open(a,"_blank")}else u.default.push({pathname:l},void 0,{shallow:!0})}))}),[]),(0,r.useEffect)((function(){return s.T.subscribe(y.Ap.UpdateFilters,(function(e){n(e),a(null)}))}),[n,a])},Oo=function(){var e=(0,a.$G)("problems").t,t=(0,vo.nO)(),n=(0,u.useRouter)(),i=[mo.r.Solutions,n.query.id].concat(jo(n.query.ids||[])),s=(0,po.T)({routerTabArray:i}),d=s.questionTitleSlug,g=s.questionBasicData,y=s.questionContentData,h=s.questionTranslations,x=(0,b.cm)((function(e){return e.setQuestionSlug}));(0,r.useEffect)((function(){return x(d)}),[x,d]),Co(d);var j=(0,r.useMemo)((function(){return m.ob?"".concat((null===g||void 0===g?void 0:g.questionFrontendId)||"",". ").concat((null===h||void 0===h?void 0:h.translatedTitle)||(null===g||void 0===g?void 0:g.title)||""):null===g||void 0===g?void 0:g.title}),[null===g||void 0===g?void 0:g.questionFrontendId,null===g||void 0===g?void 0:g.title,null===h||void 0===h?void 0:h.translatedTitle]),w=(0,l.convert)((null===h||void 0===h?void 0:h.translatedContent)||(null===y||void 0===y?void 0:y.content)||e("meta.defaultDescription"),{wordwrap:!1}),C="https://".concat(f._d),O="".concat(C).concat(c.Hb.questionDetailWithTab(d,mo.r.Description));return d?(0,o.jsxs)("div",{className:(0,v.yI)("flex min-h-screen min-w-[360px] flex-col",p.Cj.label1),children:[(0,o.jsx)(fo.p,{title:e("meta.title",{title:j}),description:e("meta.description",{title:j,content:w}),openGraph:{url:O}}),(0,o.jsx)("div",{className:(0,v.yI)("h-full",p.Cj.bg),children:(0,o.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,o.jsx)(vo.JP,{isMobile:!!t}),(0,o.jsx)("div",{className:(0,v.yI)("min-h-[calc(100vh_-_50px)]",{"mt-[50px]":t}),children:(0,o.jsx)(co,{questionTitleSlug:d})})]})})]}):null},So=!0;function No(){return(0,o.jsx)(Oo,{})}},33099:function(e,t,n){var o=n(44721),r="string"===typeof o?[[e.id,o,""]]:o;(t=e.exports=o.locals||{})._getContent=function(){return r},t._getCss=function(){return""+o}}},function(e){e.O(0,[6074,6898,129,7081,8498,8736,9314,1867,3750,8764,3386,9131,3774,1613,6300,930,4889,1692,5518,4416,8805,5221,6126,3700,7048,8096,4841,3986,6694,211,5490,3688,9774,2888,179],(function(){return t=54666,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[[...ids]]-229531f956d95e4c.js.map